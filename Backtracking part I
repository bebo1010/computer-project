#include <iostream>
using namespace std;
int Ans[5];
bool used[5];
int times=0;
void backtracking(int n){
	if(n==5){
	for(int i=0;i<5;i++){
	cout << Ans[i] << " ";
	}
	cout << endl;
	times++;
	return;
	}
	for(int i=1;i<=5;i++){
	if(!used[i]){
	used[i]=true;
	Ans[n]=i;
	backtracking (n+1);
	used[i] = false;
	}
	}
}
int main(){
	for(int i=0;i<5;i++){
	used[i] = false;
	}
	backtracking (0);
	cout << endl << times;
	return 0;
}
